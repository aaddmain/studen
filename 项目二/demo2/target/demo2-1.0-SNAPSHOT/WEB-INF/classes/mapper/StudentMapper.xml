<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gzy.demo2.mapper.StudentMapper">
    
    <!-- 结果映射 -->
    <resultMap id="StudentResultMap" type="com.gzy.demo2.entity.Student">
        <id property="studentId" column="studentId"/>
        <result property="studentNumber" column="studentNumber"/>
        <result property="studentName" column="studentName"/>
        <result property="gender" column="gender"/>
        <result property="birthday" column="birthday"/>
        <result property="password" column="password"/>
        <result property="graduated" column="graduated"/>
        <result property="avatarPath" column="avatarPath"/>
    </resultMap>
    
    <!-- 插入学生信息 -->
    <insert id="insertStudent" parameterType="com.gzy.demo2.entity.Student">
        INSERT INTO student (studentNumber, studentName, gender, birthday, password, graduated, avatarPath)
        VALUES (#{studentNumber}, #{studentName}, #{gender}, #{birthday}, #{password}, #{graduated}, #{avatarPath})
    </insert>
    
    <!-- 删除学生信息 -->
    <delete id="deleteStudentById" parameterType="int">
        DELETE FROM student WHERE studentId = #{studentId}
    </delete>
    
    <!-- 更新学生信息 -->
    <update id="updateStudent" parameterType="com.gzy.demo2.entity.Student">
        UPDATE student
        SET studentNumber = #{studentNumber},
            studentName = #{studentName},
            gender = #{gender},
            birthday = #{birthday},
            password = #{password},
            graduated = #{graduated},
            avatarPath = #{avatarPath}
        WHERE studentId = #{studentId}
    </update>
    
    <!-- 根据ID查询学生 -->
    <select id="selectStudentById" parameterType="int" resultMap="StudentResultMap">
        SELECT studentId, studentNumber, studentName, gender, birthday, password, graduated, avatarPath
        FROM student
        WHERE studentId = #{studentId}
    </select>
    
    <!-- 查询所有学生 -->
    <select id="selectAllStudents" resultMap="StudentResultMap">
        SELECT studentId, studentNumber, studentName, gender, birthday, password, graduated, avatarPath
        FROM student
    </select>
    
    <!-- 根据姓名查询学生 -->
    <select id="selectStudentByName" parameterType="string" resultMap="StudentResultMap">
        SELECT studentId, studentNumber, studentName, gender, birthday, password, graduated, avatarPath
        FROM student
        WHERE studentName = #{studentName}
    </select>
    
    <!-- 根据学号查询学生 -->
    <select id="selectStudentByNumber" parameterType="int" resultMap="StudentResultMap">
        SELECT studentId, studentNumber, studentName, gender, birthday, password, graduated, avatarPath
        FROM student
        WHERE studentNumber = #{studentNumber}
    </select>
    
</mapper>